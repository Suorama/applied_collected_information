__________________________________________________________________________
Raspberry Pi

sudo rm -rf LCD-show
git clone https://github.com/goodtft/LCD-show.git //to install drivers
chmod -R 755 LCD-show
cd LCD-show/


sudo ./LCD35-show //to show lcd

(Auto Reboot)

(sudo ./LCD-hdmi //to show HDMI)

cd LCD-show/
sudo dpkg -i -B xinput-calibrator_0.7.5-1_armhf.deb //to calbrate touch
DISPLAY=:0.0 xinput_calibrator

sudo nano /etc/X11/xorg.conf.d/99-calibration.conf  //There is swap axes parameter.

These seems work with Raspberry.
RasPi 3B make klipper installation poorly long time...
MÃ¤ybe Orange minimal armbian include more components with that that Raspbian Desktop.
But all seems to work nicely.
____________________________________________________________________________

ORange Pi (and others...)

1st
You need older linux. I found Armbian 20.05.4 Focal image. That is latest what I foud what works. (I add that image to OPi Lite, OPi Zero etc to my collected info, I alaso put link to archive where I found those, but links...)

2nd
"Burn" linux to the SD card.

3rd
Start Armbian, use armbian-config to freeze distro to current state. Otherwise upgrading destroy fbtft abilities.

Next use guide what you can found many places: (https://github.com/venedikli/orangepipc)
sudo nano /boot/armbianEnv.txt //Add the following lines to the end of the file

overlays=spi-spidev spi-add-cs1
param_spidev_spi_bus=0
param_spidev_spi_cs=1

save and quit

sudo nano /etc/modules-load.d/98-fbtft.conf // insert the following line
fbtft
fbtft_device

save and quit

sudo nano /etc/modprobe.d/fbtft.conf // Add the following
options fbtft_device rotate=90 name=piscreen speed=16000000 gpios=reset:2,dc:71 txbuflen=32768 fps=25

save and quit

sudo apt-get install xserver-xorg-video-fbdev
sudo nano /usr/share/X11/xorg.conf.d/99-fbdev.conf // Insert this in the file:

Section "Device"
Identifier "piscreen"
Driver "fbdev"
Option "fbdev" "/dev/fb0"
EndSection

save and quit

sudo armbian-add-overlay foo.dts //you found that on the root

sudo reboot

Touch later

To install Klipper via Kiauh, I need to remove all security repositorys from apt. (sources.list and armbian.list at least. Otherwise apt update whining security issue, maybe later can correct that... and klipper not installing).
Because I freeze build, I can use apt update & upgrade. But release stay at Focal and 5.4 version, what is what I want because newer release doesn't support fbtft what is needed to LCD.

Well, unfortunately Klipper Screen not work yet, so battle continue.

Take latest stable armbian. //23.02.2 aka 5.15.93 jammy. Orange Pi lite
Make update && upgrade //apt
sudo apt-get install libncurses-dev
wget linux-source-current-sunxi_XX.XX.X_all.deb //where ever you found these... I add one here.
sudo dpkg -i linux-source-current-sunxi_23.02.2_all.deb //at this time or added file
(sudo su)
cd /usr/src/

tar -xf linux-source-current-sunxi_5.15.93 // tai jotain

make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- menuconfig

  -> Device Drivers -> Staging drivers -> Support for small TFT LCD display modules
  change M to *
Save new configuration.

make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j$(nproc)

make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- modules_install

cp arch/arm/boot/Image /boot/Image-5.15.93-sunxi

sudo update-initramfs -c -k 5.15.93-sunxi



Continue...




Notepad

